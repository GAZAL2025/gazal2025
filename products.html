<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="style.css" />
   <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
</head>
<body>
  <header class="center-content">
    <a href="#" id="navbar__logo"><img src="Y.G.jpg" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ø±ÙƒØ©"></a>
    <h1 class="site-titel">Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§</h1>
    <nav class="navbar">
      <div class="navbar__container">
        <div class="navbar__toggle" id="mobile-menu">
          <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        </div>
        <ul class="navbar__menu">
          <li class="navbar_item"><a href="index.html" class="navbar_links">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
          <li class="navbar_item"><a href="products.html" class="navbar_links">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a></li>
          <li class="navbar_item"><a href="about.html" class="navbar_links">Ù…Ù† Ù†Ø­Ù†</a></li>
          <li class="navbar_item"><a href="cart.html" class="navbar_links">Ø§Ù„Ø³Ù„Ø©</a></li>
          <li class="navbar_item"><a href="contact.html" class="navbar_links">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
          <li class="navbar_item"><a href="event.html" class="navbar_links">Ø§Ù„Ø­Ø¯Ø«</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <main class="center-content">
    <h2>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h2>
    <form id="productForm">
    <label for="productName">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:</label>
    <input type="text" id="productName" required placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" />

    <label for="productPrice">Ø§Ù„Ø³Ø¹Ø± (Ø±ÙŠØ§Ù„):</label>
    <input type="number" id="productPrice" required min="0" step="0.01" placeholder="Ø£Ø¯Ø®Ù„ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬" />

    <label for="productImage">ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬:</label>
    <input type="file" id="productImage" accept="image/*" required />

    <button type="submit">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬</button>
  </form>

    <h2>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø©</h2>
    <div id="productList"></div>
  </main>

  <footer>
    <p>&copy; ØºØ²Ù‘Ù„</p>
  </footer>
 <script type="module"> 
   import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import {
  getFirestore,
  collection,
  addDoc,
  getDocs,
  deleteDoc,
  doc
} from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

// Ø¥Ø¹Ø¯Ø§Ø¯ Firebase
const firebaseConfig = {
  apiKey: "AIzaSyD7H0KEqtBx4TFQX80jFbYbnoiN8HBOUD0",
  authDomain: "ghazal-2025.firebaseapp.com",
  projectId: "ghazal-2025",
  storageBucket: "ghazal-2025.appspot.com",
  messagingSenderId: "991237133972",
  appId: "1:991237133972:web:ee881d54f94e7d20690681"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const productsRef = collection(db, "products");

// Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬
async function addProduct(name, price, imageBase64) {
  await addDoc(productsRef, {
    name,
    price,
    image: imageBase64
  });
}

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
async function displayProducts() {
  const productList = document.getElementById("productList");
  productList.innerHTML = "";

  const snapshot = await getDocs(productsRef);
  snapshot.forEach(docSnap => {
    const data = docSnap.data();
    const card = document.createElement("div");
    card.className = "product-card";
    card.innerHTML = `
      <img src="${data.image}" alt="${data.name}" class="product-img" />
      <h3>${data.name}</h3>
      <p>Ø§Ù„Ø³Ø¹Ø±: ${data.price} Ø±ÙŠØ§Ù„</p>
      <button class="delete-btn" data-id="${docSnap.id}">ğŸ—‘ Ø­Ø°Ù</button>
      <button class="cart-btn" data-id="${docSnap.id}">ğŸ›’ Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
    `;
    productList.appendChild(card);
  });

  document.querySelectorAll(".delete-btn").forEach(button => {
    button.addEventListener("click", async (e) => {
      const id = e.target.dataset.id;
      await deleteDoc(doc(db, "products", id));
      displayProducts();
    });
  });

  document.querySelectorAll(".cart-btn").forEach(button => {
    button.addEventListener("click", (e) => {
      const id = e.target.dataset.id;
      const card = e.target.closest(".product-card");
      const name = card.querySelector("h3").textContent;
      const price = parseFloat(card.querySelector("p").textContent.replace(/[^\d]/g, ''));
      const image = card.querySelector("img").src;

      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      cart.push({ id, name, price, image });
      localStorage.setItem("cart", JSON.stringify(cart));
      alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©");
    });
  });
}

// Ø¹Ù†Ø¯ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
document.getElementById("productForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const name = document.getElementById("productName").value.trim();
  const price = parseFloat(document.getElementById("productPrice").value);
  const imageInput = document.getElementById("productImage");
  const file = imageInput.files[0];

  if (!name || isNaN(price) || !file) {
    alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„");
    return;
  }

  const reader = new FileReader();
  reader.onload = async function (e) {
    const imageBase64 = e.target.result;
    await addProduct(name, price, imageBase64);
    document.getElementById("productForm").reset();
    displayProducts();
  };
  reader.readAsDataURL(file);
});</SCRIPT>

   <script type="module" src="countdown.js"></script>
</body>
</html>
